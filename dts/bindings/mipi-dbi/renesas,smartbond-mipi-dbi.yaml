# Copyright (c) 2023 Renesas Electronics Corporation
# SPDX-License-Identifier: Apache-2.0

include: [mipi-dbi-controller.yaml, pinctrl-device.yaml]

description: Renesas Smartbond(tm) MIPI DBI Host

compatible: "renesas,smartbond-mipi-dbi"

properties:
  reg:
    required: true

  interrupts:
    required: true

  reset-gpios:
    type: phandle-array
    description: |
      Reset GPIO pin. Used to reset the display during initialization.

  te-enable:
    type: boolean
    description: |
      Boolean to indicate whether the tearing effect (TE) signal is available or not.

  te-inversion:
    type: boolean
    description: |
      Boolean to apply an inversion on the TE signal that triggers the MIPI DBI controller.

  dma-prefetch:
    type: int
    enum:
      - 0 # Prefetch mechanism is disabled
      - 1 # Host will wait for at least 44 bytes
      - 2 # Host will wait for at least 84 bytes
      - 3 # Host will wait for at least 116 bytes
      - 4 # Host will wait for at least 108 bytes
    description: |
      Host controller will wait for at least the specified number of bytes before triggering
      a single frame update. The prefetch mechanism should be enabled when frame buffer(s)
      is stored into external storage mediums, e.g. PSRAM, that introduce comparable delays.
      Users should make sure the total number of bytes, a frame update consists of, should exceed
      the prefetch level. Otherwise, host controller will not be able to trigger the frame update.

  spi-dev:
    type: phandle
    description: |
      SPI device to use for data transfers with MIPI DBI commands. This SPI
      device should be connected to the MIPI DBI display.
